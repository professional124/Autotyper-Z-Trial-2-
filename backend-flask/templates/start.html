{% extends "base.html" %}
{% block title %}Start Bot | AutoTyper-Z{% endblock %}

{% block content %}
<h2>Start a New Bot</h2>
{% if error %}
  <p class="error">{{ error }}</p>
{% endif %}
<form method="POST" autocomplete="off" class="bot-form">
  <label for="username">Username</label>
  <input type="text" name="username" id="username" required />

  <label for="password">Password</label>
  <input type="password" name="password" id="password" required />

  <label for="avg_wpm">Average WPM</label>
  <input type="number" name="avg_wpm" id="avg_wpm" min="10" max="150" value="60" required />

  <label for="min_accuracy">Minimum Accuracy (%)</label>
  <input type="number" name="min_accuracy" id="min_accuracy" min="50" max="100" value="95" required />

  <label for="races">Number of Races</label>
  <input type="number" name="races" id="races" min="1" max="100" value="1" required />

  <button type="submit" class="btn">Start Bot</button>
</form>

<section class="status-section">
  <h2>Active Bots</h2>
  {% if bots %}
  <table>
    <thead>
      <tr>
        <th>Username</th>
        <th>Races Done</th>
        <th>Total Races</th>
      </tr>
    </thead>
    <tbody>
      {% for bot in bots %}
      <tr>
        <td>{{ bot.username }}</td>
        <td>{{ bot.races_done }}</td>
        <td>{{ bot.races_to_run }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  {% else %}
  <p>No active bots right now. Start one above!</p>
  {% endif %}
</section>
{% endblock %}
